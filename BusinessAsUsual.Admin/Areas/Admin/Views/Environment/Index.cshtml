<h2>Environment Info</h2>

<div id="env"></div>

<script>
    async function loadEnv() {
        const env = await fetch('/admin/environment').then(r => r.json());

        const html = `
            <p><strong>Environment:</strong> ${env.environment}</p>
            <p><strong>Version:</strong> ${env.version}</p>
            <p><strong>Commit:</strong> ${env.commit}</p>
            <p><strong>Build Time:</strong> ${env.buildTime}</p>
            <p><strong>Config Sources:</strong></p>
            <ul>${env.configSources.map(c => `<li>${c}</li>`).join('')}</ul>
            <p><strong>Secrets Loaded:</strong></p>
            <ul>${env.secretsLoaded.map(s => `<li>${s}</li>`).join('')}</ul>
        `;

        document.getElementById('env').innerHTML = html;
    }

    loadEnv();
</script>