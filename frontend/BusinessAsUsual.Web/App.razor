@using BusinessAsUsual.Web.Pages
@using Microsoft.AspNetCore.Components.Routing
@using BusinessAsUsual.Web.Components.Layout
@using Microsoft.AspNetCore.Components.Web
@using BusinessAsUsual.Web.Components

<ErrorBoundaryLogger>
    <Router AppAssembly="@typeof(Program).Assembly">
        <Found Context="routeData">
                <RouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)" />
        </Found>
        <NotFound>
            <LayoutView Layout="@typeof(MainLayout)">
                <h1 class="text-danger">404 - Page Not Found</h1>
                <p>The riff you're looking for doesn't exist.</p>
            </LayoutView>
        </NotFound>
    </Router>
</ErrorBoundaryLogger>

@code {
    public void ToggleTheme()
    {
        IsDarkMode = !IsDarkMode;
        Console.WriteLine($"Theme changed: {IsDarkMode}");
    }

    private readonly RouteData notFoundRoute = new(
        typeof(NotFound),
        new Dictionary<string, object?>()
    );

    private void HandleError(Exception ex)
    {
        System.Diagnostics.Debug.WriteLine($"🔥 Blazor error caught: {ex.Message}");
    }
    private bool IsDarkMode = true;
}