@using BusinessAsUsual.Web.Pages
@using Microsoft.AspNetCore.Components.Routing
@using BusinessAsUsual.Web.Components.Layout
@using Microsoft.AspNetCore.Components.Web
@using BusinessAsUsual.Web.Components

<ErrorBoundaryLogger>
    <Router AppAssembly="@typeof(Program).Assembly">
        <Found Context="routeData">
                <RouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)" />
        </Found>
        <NotFound>
            <SplashScreen />
        </NotFound>
    </Router>
</ErrorBoundaryLogger>

@code {
    private readonly RouteData notFoundRoute = new(
        typeof(NotFound),
        new Dictionary<string, object?>()
    );

    private void HandleError(Exception ex)
    {
        System.Diagnostics.Debug.WriteLine($"🔥 Blazor error caught: {ex.Message}");
    }
}